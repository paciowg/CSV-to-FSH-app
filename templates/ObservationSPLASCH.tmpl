## SPLASCH Observation Instance Template
##
## NOTE:
## - Any line starts with'##' is a comment line--will be ignored
##
## - A local variable starts with '@<' and ends with '>@'
## - A global variable starts with '@@<' and ends with '>@@'
## - A variable name (local or global) should contain only letters, numbers, dots, underscores, or dashes
##
## - Values for local variables come from data provided in input CSV files
## - Make sure local variable names match column names in input CSV files
##
## - Values for global variables are defined in global-variables.csv
##
## - Any lines between '=@>' and '<@=' are head lines that will be output only once
##
=@>
//Alias: USCOBLAB = http://hl7.org/fhir/us/core/StructureDefinition/us-core-observation-lab
Alias: LNC = http://loinc.org
Alias: UOM = http://unitsofmeasure.org
Alias: SPLASCHCAT = http://hl7.org/fhir/us/pacio-splasch/CodeSystem/SPLASCHObservationCategoryCS
//Alias: USCCAT = http://terminology.hl7.org/CodeSystem/observation-category
<@=

Instance: @@<instance-id-prefix>@@-@<observationsplasch.id>@
InstanceOf: Observation
Description: "An instance of SPLASCH Observation @<observationsplasch.id>@"

* status = #final
* category = SPLASCHCAT#@<category>@ "@<category.code.display>@"

// Pre-load code @<code>@ - Do Not Remove from template
* code = @<code.system>@#@<code.code>@ "@<code.display>@"

* subject = Reference(@@<instance-id-prefix>@@-@<subject.patientRef>@)

* effectiveDateTime = "@<effectiveDateTime>@"
##* performer = Reference(@<performer>@)
* performer[0] = Reference(@<performer.Practitioner>@)
* performer[1] = Reference(@<performer.PractitionerRole>@)

// Pre-load value @<value>@ - Do Not Remove from template
* valueCodeableConcept = @<value.system>@#@<value.code>@ "@<value.display>@"
